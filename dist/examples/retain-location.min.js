(()=>{AMF.plugin("Retain Location",()=>{let n=!1,t=new URL(location.href);if(t.searchParams.has("retain"))AMF.once("content-frame-load",({contentFrame:a})=>{let r=new URLSearchParams(t.searchParams.get("retain")),e=new URL(a.src);r.forEach((s,o)=>{e.searchParams.set(o,s)}),n=!0,requestAnimationFrame(()=>{a.src=`${e}`,n=!1})});AMF.on("content-frame-load",({contentWindow:a})=>{if(n)return;let r=new URLSearchParams(a.location.search);r.delete("adsess");let e=new URL(location.href);e.searchParams.set("retain",`${r}`),history.replaceState(null,"",`${e}`)})});})();
